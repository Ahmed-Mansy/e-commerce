<section class="container mx-auto p-6">
    <div class="max-w-6xl mx-auto">
        <h1 class="text-4xl text-center text-mainColor font-bold capitalize mb-10">
            All Orders
        </h1>

        @for (order of allOrders; track $index) {
        <div class="bg-white shadow-md rounded-2xl p-6 mb-10 border border-gray-200">
            <!-- Order Header -->
            <h2 class="text-xl font-semibold mb-6 text-gray-700">
                Order number<span class="text-mainColor">#{{ order._id }} </span>
            </h2>

            <!-- User Info & Shipping -->
            <div class="grid md:grid-cols-2 gap-6 mb-6">
                <div class="bg-gray-50 rounded-xl p-4">
                    <h3 class="font-semibold text-lg mb-2 text-gray-600">User Info</h3>
                    <p><span class="font-medium">Name:</span> {{ order.user.name }}</p>
                    <p><span class="font-medium">Email:</span> {{ order.user.email }}</p>
                    <p><span class="font-medium">Phone:</span> {{ order.user.phone }}</p>
                </div>

                <div class="bg-gray-50 rounded-xl p-4">
                    <h3 class="font-semibold text-lg mb-2 text-gray-600">Shipping Address</h3>
                    <p>{{ order.shippingAddress.details }}, {{ order.shippingAddress.city }}</p>
                    <p><span class="font-medium">Phone:</span> {{ order.shippingAddress.phone }}</p>
                </div>
            </div>

            <!-- Order Summary -->
            <div class="bg-gray-100 rounded-xl p-4 mb-6">
                <h3 class="font-semibold text-lg mb-2 text-gray-600">Order Summary</h3>
                <p><span class="font-medium">Total Price:</span> {{ order.totalOrderPrice }} EGP</p>
                <p><span class="font-medium">Payment:</span> {{ order.paymentMethodType }}</p>
                <p>
                    <span class="font-medium">Status:</span>
                    <span [class]="order.isPaid ? 'text-green-600 font-semibold' : 'text-red-600 font-semibold'">
                        {{ order.isPaid ? 'Paid' : 'Not Paid' }}
                    </span>
                    /
                    <span [class]="order.isDelivered ? 'text-green-600 font-semibold' : 'text-red-600 font-semibold'">
                        {{ order.isDelivered ? 'Delivered' : 'Not Delivered' }}
                    </span>
                </p>
            </div>

            <!-- Products -->
            <div>
                <h3 class="font-semibold text-lg mb-4 text-gray-600">Products</h3>
                <div class="grid sm:grid-cols-2 lg:grid-cols-3 gap-4">
                    @for (item of order.cartItems; track $index) {
                    <div
                        class="border border-gray-200 rounded-xl shadow-sm p-4 flex gap-4 bg-white hover:shadow-lg transition">
                        <img [src]="item.product.imageCover" alt="{{ item.product.title }}"
                            class="w-24 h-24 object-cover rounded-lg" />
                        <div class="flex flex-col justify-center">
                            <p class="font-medium text-gray-800">{{ item.product.title }}</p>
                            <p class="text-gray-600">Price: <span class="font-semibold">{{ item.price }} EGP</span></p>
                            <p class="text-gray-600">Qty: <span class="font-semibold">{{ item.count }}</span></p>
                        </div>
                    </div>
                    }
                </div>
            </div>
        </div>
        }
    </div>
</section>